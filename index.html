<!DOCTYPE html>
<meta charset="utf-8">
<head>

    <script type="text/javascript" src="./lib/d3.v5.min.js"></script>
    <script type="text/javascript" src="./lib/d3-dsv.min.js"></script>
    <script type="text/javascript" src="./lib/d3-legend.min.js"></script>
    <script type="text/javascript" src="./lib/d3-tip.min.js"></script>
    <script type="text/javascript" src="./lib/d3-geo-projection.v2.min.js"></script>
    <script type="text/javascript" src="./lib/topojson.v2.min.js"></script>

    <style>


    </style>

    <title></title>
</head>


<body>

<script>

    var width = 700
    var height = 1400

    var chicagomap = d3.json("boundaries_chicago_census_neighborhoods.geojson")

    var svg = d3.select("body").append("svg").attr("id", "choropleth")
        .attr("preserveAspectRatio", "xMinYMin meet")//.style("background-color", "#c9e8fd") adds blue background
        .attr("viewBox", "0 0 " + width + " " + height)
        .classed("svg-content", true);

    var projection = d3.geoMercator()
        .center([0, 41.8781])
        .rotate([87.6298, 0]).scale(45000)//.fitSize([width, height], chicagomap);

    var path = d3.geoPath().projection(projection);


    Promise.resolve((chicagomap).then(function (chi_map) {

        var neighborhoods = svg.append("g")

        neighborhoods.selectAll('path')
            .data(chi_map.features)
            .enter()
            .append('path')
            .attr('d', path)
            .style("fill", "red")
            .style("stroke-width", "1")
            .style("stroke", "black");

    }));

    //TODO fix styling: https://stackoverflow.com/questions/46327421/why-is-this-topojson-rendered-so-small-with-d3-simple-example


</script>

</body>

</html>